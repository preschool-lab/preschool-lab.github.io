{"version":3,"sources":["../webpack/bootstrap","../config/polyfills.js","constants.tsx","services/emailService.ts","components/Intro.tsx","components/PronounRelevance/PronounRelevance/PronounRelevanceStore.tsx","components/PronounRelevance/PronounRelevance/constants.tsx","components/PronounRelevance/PronounRelevance/WordWrapper.tsx","components/PronounRelevance/utils/common.tsx","components/PronounRelevance/PronounRelevance/GroupWrapper.tsx","components/PronounRelevance/PronounRelevance/PronounRelevanceBoard.tsx","components/PronounRelevance/PronounRelevance/PronounRelevanceCompareBoard.tsx","components/PronounRelevance/App.tsx","services/fileService.ts","components/PreviewOnline.tsx","App.tsx","registerServiceWorker.ts","index.tsx"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","installedChunks","push","Object","prototype","hasOwnProperty","call","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","0","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","default","object","property","p","jsonpArray","window","webpackJsonp","oldJsonpFunction","slice","Promise","enable","assign","363","e","a","u","h","f","g","v","y","E","b","w","S","k","C","M","_","x","I","N","P","O","constants","p1","p2","summary","l1","l2","l3","p3","p4","p5","T","A","API_URL","emailService","this","sendEmail","emailInfo","axios","post","concat","headers","content-type","then","res","countDownloadTimes","FormItem","form_default","Item","PRECO_INTRO","PAPER_INTRO","PAPER_AUTHOR","DATA_FORMAT","COPYRIGHT_INFO","MODAL_TITLE","Intro","props","_this","classCallCheck_default","possibleConstructorReturn_default","getPrototypeOf_default","handleSubmit","preventDefault","form","validateFields","err","values","setState","visible","changeTab","onChangeTab","handleOk","rtn","message_default","info","error","closeModal","state","fieldsError","_this$props$form","getFieldDecorator","getFieldsError","react","createElement","className","layout","onSubmit","rules","required","message","input_default","prefix","icon_default","type","style","color","placeholder","textAlign","button_default","htmlType","disabled","keys","some","field","modal_default","onCancel","title","footer","onClick","map","href","React","src_components_Intro","PronounRelevanceStore","sentences","entities","init","_groupMentionBySentence","_buildEntityMap","_initSentence","createMention","_ref","sentenceId","startWord","stopWord","mention","group","_getGroup","wrapperKey","_getParentGroup","_this$_getStartEndInd","_getStartEndIndex","parseInt","substring","_this$_getStartEndInd2","slicedToArray_default","isNull","console","mentions","mentionGroupBySentence","_findMentionIndex","entityMap","join","deleteMention","_ref2","target","_this$_getStartEndInd3","_this$_getStartEndInd4","start","end","mentionIndex","removeMentionFromEntity","mergeEntity","index","fromEntity","toEntity","first","sortedEntities","sort","_getMention","entityIndex","isMentionSelected","getEntityIndexByMention","getAvailableRange","paths","split","_getAvailableEnd","_getAvailableStart","getWordIndex","generateFalsy","entity","filter","every","num","isNumber","currentEntitiesStr","targetEntitiesStr","isIncluded","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_loop","candidate","includes","_iterator","iterator","next","done","return","generateMatch","cIndex","_loop2","tIndex","getIntersectionEntities","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","isUndefined","uniq","getMentionByWord","_ref3","_ref4","wordIndex","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_step3","_iterator3","searchSameWords","_ref5","_ref6","wordLen","words","sid","word","wid","toLowerCase","isSame","indexGroups","pop","_iteratorNormalCompletion4","_didIteratorError4","_iteratorError4","_step4","_iterator4","isArray","lengthStack","_iteratorNormalCompletion5","_didIteratorError5","_iteratorError5","_step5","_iterator5","_iteratorNormalCompletion6","_didIteratorError6","_iteratorError6","_step6","_iterator6","pathA","pathB","flatten","forEach","mentionGroup","_iteratorNormalCompletion7","_didIteratorError7","_iteratorError7","_step7","_iterator7","sentenceIndex","wordGroup","sentence","indexGroup","_iteratorNormalCompletion8","_didIteratorError8","_iteratorError8","_step8","_iterator8","JSON","parse","cloneDeep","_replaceIndexWithWord","wordGroups","arr","item","path","_this$_getStartEndInd5","_this$_getStartEndInd6","_mention","findIndex","PALLET","WordWrapper","handleClick","readOnly","_this$context","context","onPick","isMerging","isLeaving","stopPropagation","assertThisInitialized_default","handleMouseEnter","onEnterWord","shouldHighlight","_this$context2","_this$context2$availa","availableRange","availableSentenceId","startWordId","stopWordId","pickWordId","hoverWord","isPicking","_this$props","wordId","_hoverWord","hoverSentenceId","hoverWordId","shouldBold","isSameWords","sameWords","_this$props2","highlight","bold","isSameWord","react_default","classnames","sameword","onMouseEnter","Component","propTypes","PropType","number","string","isRequired","bool","contextTypes","_store","instanceOf","array","func","hexToRgb","hex","alpha","replace","exec","colors","GroupWrapper","onSelect","handleRightClick","onUnselect","popupDelete","handleDelete","onDelete","handleCancelDelete","handleVisibleChange","_this$props3","_this$context3","onEnterMention","handleMouseLeave","_this$props4","_this$context4","checkIsSelected","_this$context5","currentEntity","mergingEntities","isReviewing","relatedEntities","checkIsLeaving","leavingGroup","_this$props5","isSelected","borderColor","backgroundColor","borderStyle","popconfirm_default","onVisibleChange","trigger","onConfirm","deleting","onMouseLeave","onContextMenu","isString","PronounRelevance_WordWrapper","PropTypes","defaultProps","KEY_CODE","CTRL","uuid","PronounRelevanceBoard","_forceUpdate","forceUpdate","_trigger","handleEnterCheckMode","_this$state","store","ctrlKey","updates","isCheckingSameWord","handleLeaveCheckMode","keyCode","clearHeight","pair","heightGroup","element","findDOMNode","height","isMergeOperationAvailable","_this$state2","isLeaveOperationAvailable","_this$state3","handleMergeGroup","handleCancelMerge","handleConfirmMerge","stayMerging","handleLeaveGroup","handleCancelLeave","handleConfirmLeave","_this$state4","instance","_instance$props","handlePick","_this$state5","_this$state5$availabl","_instance$props2","tmp","handleEnterWord","_instance$props3","_this$state6","handleEnterMention","isEntering","enteredEntities","last","handleSelect","_this$state7","indexOf","update","$push","handleUnselect","_this$state8","$splice","setRefs","component","document","removeEventListener","addEventListener","_this2","isControllable","_this$state9","row_default","col_default","span","hidden","alert_default","description","showIcon","noop","PronounRelevance_GroupWrapper","ref","childContextTypes","any","PronounRelevanceCompareBoard","PronounRelevanceCompareBoard_initialiseProps","falsy","gtHighlightEntities","uaHighlightEntities","nextProps","userAnswer","gtAnswer","nextState","left","right","prevProps","prevState","heightGroupRight","heightGroupLeft","setHeight","showRealGroundTruth","compareText","renderFalsy","PronounRelevance_PronounRelevanceBoard","max","Math","clientHeight","_gtAnswer$generateMat","_gtAnswer$generateMat2","match_gt","match_ua","_this3","negative","positive","match","onSelectEntity","_this3$store","_this3$falsy","renderWords","_$first","_$first2","falsyName","entityId","App","App_initialiseProps","globalControl","isAnnoMode","isEditable","showGroundTruth","PronounRelevance_PronounRelevanceCompareBoard","_annoStore","_gtStore","showHeader","updateTarget","Ie","payload","onChange","taskFile","annoResult","gtResult","fileService","getFileContent","fileName","passageId","getPassageCount","FILE_NAMES","fetchPassage","currentTextContent","$set","switchFile","fileNum","total","currentFileNum","currentTextNum","onPageChange","pageNum","toString","content","pagination_default","showQuickJumper","current","pageSize","isEmpty","components_PronounRelevance_App","mention_clusters","TabPane","currentTab","tabs_default","activeKey","tab","components_PreviewOnline","isLocalhost","Boolean","location","hostname","registerValidSW","swUrl","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","log","catch","ReactDOM","src_App_0","getElementById","URL","process","origin","fetch","response","status","ready","unregister","reload","registerServiceWorker"],"mappings":"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AKoK,YAAY6C,EAAK7T,SAEzB6T,EAAKtU,OAAS,GACnBoU,EAAMA,EAAIpI,SAASsI,EAAK7T,QAAS,KAGnC,OAAO2T,QAGTrI,kBAAoB,SAACiB,EAAeC,EAAavB,GAI/C,IAHAsB,EAAQtB,EAAMsB,GACdC,EAAMvB,EAAMuB,GAELtI,IAAEqN,QAAQhF,IACfA,EAAQA,EAAM,GAGhB,KAAOrI,IAAEqN,QAAQ/E,IACfA,EAAMA,EAAIA,EAAIjN,OAAS,GAGzB,OAAQgN,EAAOC,EAAM,IAAAlH,KAGvByG,kBAAoB,SAACF,EAAeb,GAAiB,IAAAgJ,EAAAtI,KAClBV,EADkB,GAC5CH,EAD4CmJ,EAAA,GAChCzH,EADgCyH,EAAA,GACzBxH,EADyBwH,EAAA,GAEnD,OAAOnI,EAASoI,UACd,SAACjJ,GAAD,OACEA,EAAQ,KAAOH,GAAcG,EAAQ,KAAOuB,GAASvB,EAAQ,KAAOwB,MA/Z9B3M,KAAAyF,MAC1CA,KAAK+E,UAAYA,EACjB/E,KAAKgF,SAAWA,EAEhBhF,KAAKoO,cACLpO,KAAK0L,eACL1L,KAAKwG,0BACLxG,KAAK0G,aACL1G,KAAKiF,sCC2EM2J,IA5Fb,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,WCpFIC,kMAsBJC,YAAc,SAACjR,GAAW,IAChBkR,EAAazN,EAAKD,MAAlB0N,SADgBC,EAEiB1N,EAAK2N,QAAtCC,EAFgBF,EA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","file":"static/js/main.9900547b.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t0: 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"./\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([154,1]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","'use strict';\n\nif (typeof Promise === 'undefined') {\n  // Rejection tracking prevents a common issue where React gets into an\n  // inconsistent state due to an error, but it gets swallowed by a Promise,\n  // and the user has no idea what causes React's erratic future behavior.\n  require('promise/lib/rejection-tracking').enable();\n  window.Promise = require('promise/lib/es6-extensions.js');\n}\n\n// fetch() polyfill for making API calls.\nrequire('whatwg-fetch');\n\n// Object.assign() is commonly used with React.\n// It will use the native implementation if it's present and isn't buggy.\nObject.assign = require('object-assign');\n\n// In tests, polyfill requestAnimationFrame since jsdom doesn't provide it yet.\n// We don't polyfill it in the browser--this is user's responsibility.\nif (process.env.NODE_ENV === 'test') {\n  require('raf').polyfill(global);\n}\n","const constants = {\n    mock_sentence : [[\"The\", \"United\", \"Nations\", \"Food\", \"and\", \"Agriculture\", \"Organization\", \"recently\", \"released\", \"its\", \"Food\", \"Price\", \"Index\", \".\"], [\"The\", \"index\", \"is\", \"at\", \"its\", \"highest\", \"level\", \"since\", \"it\", \"began\", \"in\", \"1990\", \".\"]],\n    mock_mentions : [[[0, 0, 7], [0, 9, 10]], [[0, 10, 13], [1, 0, 2], [1, 4, 5], [1, 8, 9]], [[1, 4, 7]], [[1, 11, 12]]],\n    FILE_NAMES: [\"training\", \"development\", \"test\"],\n    PRECO_INTRO: {\n        p1: \"PreCo is a large-scale English dataset for coreference resolution. The dataset is designed to embody the core challenges in coreference, such as entity representation, by alleviating the challenge of low overlap between training and test sets and enabling separated analysis of mention detection and mention clustering. To strengthen the training-test overlap, we collect a large corpus of 38K documents and 12.5M words which are mostly from the vocabulary of English-speaking preschoolers. Experiments show that with higher training-test overlap, error analysis on PreCo is more efficient than the one on OntoNotes, a popular existing dataset. Furthermore, we annotate singleton mentions making it possible for the first time to quantify the influence that a mention detector makes on coreference resolution performance. \",\n        p2: \"The dataset is available for research purposes. Please refer to the Download section.\"\n    },\n    PAPER_INTRO: \"PreCo: A Large-scale Dataset in Preschool Vocabulary for Coreference Resolution\",\n    PAPER_AUTHOR: \"Hong Chen, Zhenhua Fan, Hao Lu, Alan L. Yuille, and Shu Rong\",\n    DATA_FORMAT: {\n        summary: \"There are 3 JSON lines files in the downloaded data, for training, development and test sets. In the files, each line is a JSON string that encodes a document. The JSON object has the following fields:\",\n        l1: `\"id\": a string identifier of the document.`,\n        l2: `\"sentences\": the text. It is a list of sentences. Each sentence is a list of tokens. Each token is a string, which can be a word or a punctuation mark. A sentence that contains only one token of space is used to separate paragraphs in the text.`,\n        l3: `\"mention_clusters\": the mention clusters of the document. It is a list of mention clusters. Each mention cluster is a list of mentions. Each mention is a tuple of integers [sentence_idx, begin_idx, end_idx]. Sentence_idx is the index of the sentence of the mention. Begin_idx is the index of the first token of the mention in the sentence. End_index is the index of the last token of the mention in the sentence <b>plus one</b>. All indices are <b>zero-based</b>.`\n    },\n    COPYRIGHT_INFO: {\n        p1: \"This page provides you a visible display of labeled data and access to the dataset.\",\n        p2: `All data compiled and selected in this dataset in the paper PreCo: A Large-scale Dataset in Preschool Vocabulary for Coreference Resolution (\"Paper\") is solely for academic study and research purpose.`,\n        p3: `The dataset may include copyrighted contents of third parties, and we are not responsible for them. Also, the dataset is provided on an AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, EITHER EXPRESS OR IMPLIED. Subject to any notice from the copyright holder of the data, we may cease providing the dataset from time to time.`,\n        p4: `Anyone that has obtained a copy of this dataset will be responsible and liable for all consequences arising from his use of any or any portion of the data in the dataset, including without limitation any kind of reproduction, duplication, copy, sale, trade, resale or exploitation.`,\n        p5: `We will NOT use or share your contact information for any commercial purpose. Your contact information will ONLY be used for transmission of this dataset, and/or necessary contacts regarding copyright-related matters.`\n    },\n    MODAL_TITLE: \"Copyright and Privacy Notice\",\n    API_URL: \"http://10.40.30.61:8080/preco/\"\n};\n\nexport default constants;\n","import axios from 'axios';\nimport constants from '../constants';\n\nconst { API_URL } = constants;\nclass EmailService {\n    sendEmail = (emailInfo: any) => {\n        return axios.post(`${API_URL}api/download/sendmail`, emailInfo,\n        { headers: {'content-type': 'application/json;charset=utf-8'}})\n        .then(res => {\n            return res.data;\n        })\n    }\n\n    countDownloadTimes = () => {\n        return axios.get(`${API_URL}api/download/times`)\n        .then(res => {\n            return res.data;\n        })\n    }\n};\n\nexport default new EmailService();\n","import { Button } from 'antd';\nimport { Form } from 'antd';\nimport { FormComponentProps } from 'antd/lib/form';\nimport { Icon } from 'antd';\nimport { Input } from 'antd';\nimport { Modal } from 'antd';\nimport { message } from 'antd';\nimport * as React from \"react\";\nimport _ from 'lodash';\n\nimport constants from \"../constants\";\nimport emailService from '../services/emailService';\n\nimport \"./Intro.css\";\nconst FormItem = Form.Item;\nconst { PRECO_INTRO, PAPER_INTRO, PAPER_AUTHOR, DATA_FORMAT, COPYRIGHT_INFO, MODAL_TITLE } = constants;\n\nexport interface Props extends FormComponentProps {\n    onChangeTab(key: string): void;\n}\n\ninterface State {\n    visible: boolean;\n}\n\nfunction hasErrors(fieldsError: object) {\n    return Object.keys(fieldsError).some(field => fieldsError[field]);\n}\n\nclass Intro extends React.Component<Props, State> {\n\n    constructor(props: Props) {\n        super(props);\n        this.state = {\n            visible: false,\n        };\n    }\n\n    handleSubmit = (e: any) => {\n        e.preventDefault();\n        this.props.form.validateFields((err: any, values: object) => {\n            if (!err) {\n                this.setState({\n                    visible: true,\n                });\n            }\n        })\n    }\n\n    public changeTab = (e: any) => {\n        const { onChangeTab } = this.props;\n        onChangeTab(\"2\");\n    }\n\n    public handleOk = () => {\n        this.props.form.validateFields((err: any, values: object) => {\n            emailService.sendEmail(values).then(res => {\n                if (res.rtn === 0) {\n                    message.info(\"The download link has been sent to your email\");\n                }\n                else {\n                    message.error(\"Oops, something went wrong\");\n                }\n            });\n        });\n        this.setState({\n            visible: false,\n        });\n    }\n\n    public closeModal = () => {\n        this.setState({\n            visible: false,\n        });\n    }\n\n    public render() {\n      const { getFieldDecorator, getFieldsError } = this.props.form;\n      return (\n        <div className=\"intro\">\n          <div className=\"header\">\n            <h1>What is PreCo?</h1>\n            <p>{PRECO_INTRO.p1}</p>\n            <p>{PRECO_INTRO.p2}</p>\n            <h1>Paper</h1>\n            <p>{PAPER_INTRO}</p>\n            <b>{PAPER_AUTHOR}</b>\n            <div className=\"info\">\n              <h1>Download</h1>\n              <Form layout=\"inline\" onSubmit={this.handleSubmit}>\n                <FormItem>\n                  {getFieldDecorator(\"name\", {\n                      rules: [{required: true, message: \"Please input your name\"}],\n                  })(<Input prefix={<Icon type=\"user\" style={{ color: \"rgba(0,0,0,.25)\" }} />} placeholder=\"Name\" />)}\n                </FormItem>\n                <FormItem>\n                  {getFieldDecorator(\"institute\", {\n                      rules: [{required: true, message: \"Please input your institute\"}],\n                  })(<Input prefix={<Icon type=\"home\" style={{ color: \"rgba(0,0,0,.25)\" }} />} placeholder=\"Institute\" />)}\n                </FormItem>\n                <FormItem>\n                  {getFieldDecorator(\"email\", {\n                      rules: [{ type: 'email', message: 'The input is not valid E-mail!'}, {required: true, message: 'Please input your E-mail'}],\n                  })(<Input prefix={<Icon type=\"mail\" style={{ color: \"rgba(0,0,0,.25)\" }} />} placeholder=\"E-mail\" />)}\n                </FormItem>\n                <br />\n                <FormItem style={{textAlign: 'center'}}>\n                  <Button type=\"primary\" htmlType=\"submit\" className=\"send-button\" disabled={hasErrors(getFieldsError())}\n                  >Send</Button>\n                </FormItem>\n              </Form>\n              <Modal\n                className=\"modal\"\n                visible={this.state.visible}\n                onCancel={this.closeModal}\n                title={MODAL_TITLE}\n                footer={[<Button key=\"ok\" onClick={this.handleOk} type=\"primary\">I agree with the above note</Button>]}\n              >\n                {\n                    _.map(_.keys(COPYRIGHT_INFO), key => {\n                        return <p>{COPYRIGHT_INFO[key]}</p>\n                    })\n                }\n            </Modal>\n            </div>\n            <h1>Data Format</h1>\n            <p>{DATA_FORMAT.summary}</p>\n            <ul>\n              <li>{DATA_FORMAT.l1}</li>\n              <li>{DATA_FORMAT.l2}</li>\n              <li>\"mention_clusters\": the mention clusters of the document. It is a list of mention clusters. Each mention cluster is a list of mentions. Each mention is a tuple of integers [sentence_idx, begin_idx, end_idx]. Sentence_idx is the index of the sentence of the mention. Begin_idx is the index of the first token of the mention in the sentence. End_index is the index of the last token of the mention in the sentence <b>plus one</b>. All indices are <b>zero-based</b>.</li>\n            </ul>\n            <Button type=\"primary\" className=\"preview-button\" onClick={this.changeTab}>Preview Online</Button>\n            <h1>\n                Contact\n            </h1>\n            <p>Please contact <b><a href=\"mailto:preco@yitu-inc.com\">preco@yitu-inc.com</a></b> for questions about the dataset.</p>\n          </div>\n        </div>\n      );\n    }\n  }\n\nexport default Form.create<Props>()(Intro);\n","import _ from 'lodash';\n\nclass PronounRelevanceStore {\n  sentences: any;\n  entities: any;\n  wordGroups: any;\n  indexGroups: any;\n  mentionGroupBySentence: any;\n  entityMap: any;\n\n  constructor(sentences: any, entities: any) {\n    this.sentences = sentences;\n    this.entities = entities;\n\n    this.wordGroups = [];\n    this.indexGroups = [];\n    this.mentionGroupBySentence = [];\n    this.entityMap = {};\n    this.init();\n  }\n\n  init = () => {\n    this._groupMentionBySentence();\n    this._buildEntityMap();\n    for (let i = 0; i < this.sentences.length; i++) {\n      this._initSentence(i);\n    }\n  };\n\n  createMention = ({ sentenceId, startWord, stopWord, mention }: {\n    sentenceId: number,\n    startWord: string,\n    stopWord: string,\n    mention: any,\n  }) => {\n    if (!mention) {\n      if (startWord === stopWord) {\n        const group = this._getGroup(startWord);\n        mention = [sentenceId, group, group + 1];\n      } else {\n        const wrapperKey = this._getParentGroup(startWord, stopWord);\n        const group = this._getGroup(wrapperKey);\n\n        const [start, end] = this._getStartEndIndex(\n          parseInt(startWord.substring(wrapperKey.length + 1), 10),\n          parseInt(stopWord.substring(wrapperKey.length + 1), 10),\n          group,\n        );\n        mention = [sentenceId, start, end];\n      }\n    }\n\n    if (_.isNull(mention[1]) || _.isNull(mention[2])) {\n      console.error('fail to create mention, invalid start / end');\n      return;\n    }\n\n    const mentions = this.mentionGroupBySentence[sentenceId];\n    const mentionIndex = this._findMentionIndex(mentions, mention);\n    if (mentionIndex !== -1) return;\n    mentions.push(mention);\n    this._initSentence(sentenceId);\n    this.entityMap[mention.join('_')] = this.entities.length;\n    this.entities.push([mention]);\n  };\n\n  deleteMention = ({ sentenceId, wrapperKey }: {\n    sentenceId: number,\n    wrapperKey: string,\n  }) => {\n    const target = this._getGroup(wrapperKey);\n    const [start, end] = this._getStartEndIndex(0, target.length - 1, target);\n    const mentions = this.mentionGroupBySentence[sentenceId];\n    const mentionIndex = this._findMentionIndex(mentions, [\n      sentenceId,\n      start,\n      end,\n    ]);\n    if (mentionIndex === -1) return;\n    this.removeMentionFromEntity(wrapperKey);\n    mentions.splice(mentionIndex, 1);\n    this._initSentence(sentenceId);\n  };\n\n  mergeEntity = (entities: Array<number>) => {\n    const toEntity = _.first(entities) || 0;\n    let index, fromEntity;\n    for (index = 1; index < entities.length; index++) {\n      fromEntity = entities[index];\n      this.entities[toEntity] = this.entities[toEntity].concat(\n        this.entities[fromEntity],\n      );\n    }\n\n    const sortedEntities = entities.slice(1).sort((a, b) => b - a);\n\n    for (index = 0; index < sortedEntities.length; index++) {\n      fromEntity = sortedEntities[index];\n      this.entities.splice(fromEntity, 1);\n    }\n\n    this._buildEntityMap();\n  };\n\n  removeMentionFromEntity = (wrapperKey: string) => {\n    const mention = this._getMention(wrapperKey);\n    const sentenceId = parseInt(wrapperKey, 10);\n    const entityIndex = this.entityMap[mention.join('_')];\n    if (!this.entityMap.hasOwnProperty(mention.join('_'))) return;\n\n    const mentionIndex = this._findMentionIndex(\n      this.entities[entityIndex],\n      mention,\n    );\n    this.entities[entityIndex].splice(mentionIndex, 1);\n    this._groupMentionBySentence();\n    this._initSentence(sentenceId);\n\n    if (this.entities[entityIndex].length === 0) {\n      this.entities.splice(entityIndex, 1);\n      this._buildEntityMap();\n    }\n\n    return mention;\n  };\n\n  isMentionSelected = (entityIndex: number, wrapperKey: string) => {\n    const mention = this._getMention(wrapperKey);\n    return entityIndex === this.entityMap[mention.join('_')];\n  };\n\n  getEntityIndexByMention = (wrapperKey: string) => {\n    const mention = this._getMention(wrapperKey);\n    return this.entityMap[mention.join('_')];\n  };\n\n  getAvailableRange = (wrapperKey: string) => {\n    const paths: any = wrapperKey.split('_');\n    const sentenceId = paths.shift();\n\n    const end = this._getAvailableEnd([].concat(paths), sentenceId);\n    const start = this._getAvailableStart([].concat(paths), sentenceId);\n    const pick = this._getGroup(wrapperKey);\n\n    return [sentenceId, start, end, pick];\n  };\n\n  getWordIndex = (wrapperKey: string) => this._getGroup(wrapperKey);\n\n  generateFalsy = (target: any) => {\n    const entities = this.entities.map((entity: any) =>\n      entity.filter((mention: any) => _.every(mention, num => _.isNumber(num))),\n    );\n    const currentEntitiesStr = _.map(entities, entity =>\n      _.map(entity, mention => mention.join('_')),\n    );\n\n    const targetEntitiesStr = _.map(target, entity =>\n      _.map(entity, mention => mention.join('_')),\n    );\n\n    const result: any = [];\n\n    _.map(currentEntitiesStr, (entity, index) => {\n      let isIncluded = false;\n      for (const candidate of targetEntitiesStr) {\n        if (_.every(entity, mention => _.includes(candidate, mention))) {\n          isIncluded = true;\n          break;\n        }\n      }\n      if (!isIncluded) {\n        result.push(index);\n      }\n    });\n    return result;\n  };\n\n  generateMatch = (target: any) => {\n    const currentEntitiesStr = _.map(this.entities, entity =>\n      _.map(entity, mention => mention.join('_')),\n    );\n\n    const targetEntitiesStr = _.map(target, entity =>\n      _.map(entity, mention => mention.join('_')),\n    );\n\n    const result: any = [[], []];\n\n    _.map(currentEntitiesStr, (entity, cIndex) => {\n      for (const tIndex in targetEntitiesStr) {\n        const candidate = targetEntitiesStr[tIndex];\n        if (\n          entity.length === candidate.length &&\n          _.every(entity, mention => _.includes(candidate, mention))\n        ) {\n          result[0].push(cIndex);\n          result[1].push(parseInt(tIndex, 10));\n          break;\n        }\n      }\n    });\n\n    return result;\n  };\n\n  getIntersectionEntities = (mentions: any) => {\n    const result = [];\n    for (const mention of mentions) {\n      const entityIndex = this.entityMap[mention.join('_')];\n      if (!_.isUndefined(entityIndex)) {\n        result.push(entityIndex);\n      }\n    }\n\n    return _.uniq(result);\n  };\n\n  getMentionByWord = ([sentenceId, wordIndex]: [\n    number,\n    number\n  ]) => {\n    const mentions = this.mentionGroupBySentence[sentenceId];\n    let result = null;\n    for (const mention of mentions) {\n      if (mention[1] > wordIndex || mention[2] <= wordIndex) continue;\n\n      if (!result || (mention[1] >= result[1] && result[2] >= mention[2])) {\n        result = mention;\n      }\n    }\n\n    return result;\n  };\n\n  searchSameWords = ([sentenceId, start, end]: [number, number, number]) => {\n    const target = this.sentences[sentenceId].slice(start, end);\n    const wordLen = end - start;\n    const result: any = [];\n    _.map(this.sentences, (words, sid: number) => {\n      _.map(words, (word, wid: number) => {\n        if (\n          word.toLowerCase() === target[0].toLowerCase() &&\n          wid + wordLen <= words.length\n        ) {\n          let isSame = true;\n          for (let i = 1; i < wordLen; i++) {\n            isSame = words[wid + i].toLowerCase() === target[i].toLowerCase();\n            if (!isSame) break;\n          }\n          if (isSame && !(sid === sentenceId && start === wid)) {\n            result.push([sid, wid, wid + wordLen]);\n          }\n        }\n      });\n    });\n\n    return result;\n  };\n\n  _getAvailableEnd = (paths: any, sentenceId: number) => {\n    let group = this.indexGroups[sentenceId];\n\n    while (paths[paths.length - 1] == 0) {\n      paths.pop();\n    }\n\n    paths.pop();\n\n    for (const path of paths) {\n      group = group[path];\n    }\n\n    while (_.isArray(group[group.length - 1])) {\n      group = group[group.length - 1];\n    }\n\n    return group[group.length - 1] + 1;\n  };\n\n  _getAvailableStart = (paths: any, sentenceId: number) => {\n    let group = this.indexGroups[sentenceId];\n\n    const lengthStack = [0];\n\n    for (const path of paths) {\n      group = group[path];\n      if (_.isArray(group)) {\n        lengthStack.push(group.length);\n      }\n    }\n\n    group = this.indexGroups[sentenceId];\n\n    // bottom up\n    while (paths[paths.length - 1] == lengthStack[paths.length - 1] - 1) {\n      paths.pop();\n    }\n\n    paths.pop();\n\n    for (const path of paths) {\n      group = group[path];\n    }\n\n    while (_.isArray(group[0])) {\n      group = group[0];\n    }\n\n    return group[0];\n  };\n\n  _getParentGroup = (a: any, b: any): string => {\n    if (a.length < b.length) return this._getParentGroup(b, a);\n    const pathA = a.split('_');\n    const pathB = b.split('_');\n    const result = [];\n    let index = 0;\n    for (; index < pathB.length; index++) {\n      if (pathB[index] === pathA[index]) {\n        result.push(pathB[index]);\n      } else {\n        break;\n      }\n    }\n\n    return result.join('_');\n  };\n\n  _groupMentionBySentence = () => {\n    this.mentionGroupBySentence = [];\n    for (const index in this.sentences) {\n      this.mentionGroupBySentence[index] = [];\n    }\n\n    _.flatten(this.entities).forEach(mention => {\n      const sentenceId = mention[0];\n      const mentionGroup = this.mentionGroupBySentence[sentenceId];\n      if (_.isArray(mentionGroup)) {\n        mentionGroup.push(mention);\n      }\n    });\n  };\n\n  _buildEntityMap = () => {\n    this.entityMap = {};\n    for (let i = 0; i < this.entities.length; i++) {\n      const mentions = this.entities[i];\n      for (const mention of mentions) {\n        this.entityMap[mention.join('_')] = i;\n      }\n    }\n  };\n\n  _initSentence = (sentenceIndex: number) => {\n    const sentence = this.sentences[sentenceIndex];\n    const mentions = this.mentionGroupBySentence[sentenceIndex];\n\n    let wordGroup = [];\n    let indexGroup = [];\n\n    for (let index = 0; index < sentence.length; index++) {\n      indexGroup.push(index);\n    }\n\n    for (const mention of mentions) {\n      indexGroup[mention[1]] = `[${indexGroup[mention[1]]}`;\n      indexGroup[mention[2] - 1] = `${indexGroup[mention[2] - 1]}]`;\n    }\n\n    indexGroup = JSON.parse(`[${indexGroup.join(',')}]`);\n    wordGroup = _.cloneDeep(indexGroup);\n    this._replaceIndexWithWord(wordGroup, sentence);\n    this.wordGroups[sentenceIndex] = wordGroup;\n    this.indexGroups[sentenceIndex] = indexGroup;\n  };\n\n  _replaceIndexWithWord = (arr: any, words: any) => {\n    arr.map((item: any, index: number) => {\n      if (_.isArray(item)) {\n        this._replaceIndexWithWord(item, words);\n      } else {\n        arr[index] = words[item];\n      }\n    });\n  };\n\n  _getMention = (wrapperKey: string) => {\n    const path = wrapperKey.split('_');\n    const sentenceId = parseInt(path[0], 10);\n    const group = this._getGroup(wrapperKey);\n    const [start, end] = this._getStartEndIndex(0, group.length - 1, group);\n    return [sentenceId, start, end];\n  };\n\n  _getGroup = (wrapperKey: string) => {\n    const path: any = wrapperKey.split('_');\n    let arr = this.indexGroups[path.shift()];\n\n    while (path.length > 0) {\n      arr = arr[parseInt(path.shift(), 10)];\n    }\n\n    return arr;\n  };\n\n  _getStartEndIndex = (start: number, end: number, group: any) => {\n    start = group[start];\n    end = group[end];\n\n    while (_.isArray(start)) {\n      start = start[0];\n    }\n\n    while (_.isArray(end)) {\n      end = end[end.length - 1];\n    }\n\n    return [start, end + 1];\n  };\n\n  _findMentionIndex = (mentions: any, mention: any) => {\n    const [sentenceId, start, end] = mention;\n    return mentions.findIndex(\n      (mention: any) =>\n        mention[0] === sentenceId && mention[1] === start && mention[2] === end,\n    );\n  };\n}\n\nexport default PronounRelevanceStore;\n","const PALLET = [\n  '#b71c1c',\n  '#0d47a1',\n  '#33691e',\n  '#bf360c',\n  '#d32f2f',\n  '#1976d2',\n  '#689f38',\n  '#e64a19',\n  '#f44336',\n  '#2196f3',\n  '#8bc34a',\n  '#ff5722',\n  '#e57373',\n  '#64b5f6',\n  '#aed581',\n  '#ff8a65',\n  '#ffcdd2',\n  '#bbdefb',\n  '#dcedc8',\n  '#ffccbc',\n  '#880e4f',\n  '#01579b',\n  '#827717',\n  '#3e2723',\n  '#c2185b',\n  '#0288d1',\n  '#afb42b',\n  '#5d4037',\n  '#e91e63',\n  '#03a9f4',\n  '#cddc39',\n  '#795548',\n  '#f06292',\n  '#4fc3f7',\n  '#dce775',\n  '#a1887f',\n  '#f8bbd0',\n  '#b3e5fc',\n  '#f0f4c3',\n  '#d7ccc8',\n  '#4a148c',\n  '#006064',\n  '#f57f17',\n  '#263238',\n  '#7b1fa2',\n  '#0097a7',\n  '#fbc02d',\n  '#455a64',\n  '#9c27b0',\n  '#00bcd4',\n  '#ffeb3b',\n  '#607d8b',\n  '#ba68c8',\n  '#4dd0e1',\n  '#fff176',\n  '#90a4ae',\n  '#e1bee7',\n  '#b2ebf2',\n  '#fff9c4',\n  '#cfd8dc',\n  '#311b92',\n  '#004d40',\n  '#ff6f00',\n  '#512da8',\n  '#00796b',\n  '#ffa000',\n  '#673ab7',\n  '#009688',\n  '#ffc107',\n  '#9575cd',\n  '#4db6ac',\n  '#ffd54f',\n  '#d1c4e9',\n  '#b2dfdb',\n  '#ffecb3',\n  '#1a237e',\n  '#194D33',\n  '#e65100',\n  '#303f9f',\n  '#388e3c',\n  '#f57c00',\n  '#3f51b5',\n  '#4caf50',\n  '#ff9800',\n  '#7986cb',\n  '#81c784',\n  '#ffb74d',\n  '#c5cae9',\n  '#c8e6c9',\n  '#ffe0b2',\n];\n\nexport default PALLET;","import React, { Component } from 'react';\nimport PropType from 'prop-types';\nimport classnames from 'classnames';\nimport PronounRelevanceStore from './PronounRelevanceStore';\nimport { WordWrapperProps } from './interface';\n\nclass WordWrapper extends Component<WordWrapperProps> {\n  static propTypes = {\n    sentenceId: PropType.number,\n    wordId: PropType.number,\n    index: PropType.number,\n    word: PropType.string.isRequired,\n    wrapperKey: PropType.string,\n    readOnly: PropType.bool,\n  };\n\n  static contextTypes = {\n    _store: PropType.instanceOf(PronounRelevanceStore),\n    availableRange: PropType.array,\n    hoverWord: PropType.array,\n    onPick: PropType.func,\n    onEnterWord: PropType.func,\n    isPicking: PropType.bool,\n    isMerging: PropType.bool,\n    isLeaving: PropType.bool,\n    sameWords: PropType.array,\n  };\n\n  handleClick = (e: any) => {\n    const { readOnly } = this.props;\n    const { onPick, isMerging, isLeaving } = this.context;\n    if (isMerging || isLeaving) {\n      return;\n    }\n\n    e.stopPropagation();\n\n    if (readOnly) return;\n\n    onPick(this);\n  };\n\n  handleMouseEnter = (e: any) => {\n    const { readOnly } = this.props;\n    if (readOnly) return;\n\n    e.stopPropagation();\n    const { onEnterWord } = this.context;\n    onEnterWord(this);\n  };\n\n  shouldHighlight = () => {\n    const { readOnly } = this.props;\n    if (readOnly) return false;\n\n    const {\n      availableRange: [\n        availableSentenceId,\n        startWordId,\n        stopWordId,\n        pickWordId,\n      ],\n      hoverWord,\n      isPicking,\n    } = this.context;\n    const { sentenceId, wordId } = this.props;\n\n    if (availableSentenceId == sentenceId && pickWordId === wordId) return true;\n    if (!hoverWord || !isPicking) return false;\n    const [hoverSentenceId, hoverWordId] = hoverWord;\n    if (sentenceId != availableSentenceId || sentenceId != hoverSentenceId)\n      return false;\n\n    if (startWordId > wordId || wordId >= stopWordId) return false;\n    if (hoverWordId < pickWordId) {\n      return hoverWordId <= wordId && wordId <= pickWordId;\n    }\n    return pickWordId <= wordId && wordId <= hoverWordId;\n  };\n\n  shouldBold = () => {\n    const { word } = this.props;\n    return (\n      word &&\n      word.length >= 2 &&\n      word[0] === '*' &&\n      word[word.length - 1] === '*'\n    );\n  };\n\n  isSameWords = () => {\n    const { sameWords } = this.context;\n    const { sentenceId, wordId } = this.props;\n    for (const word of sameWords) {\n      if (sentenceId == word[0] && word[1] <= wordId && wordId < word[2])\n        return true;\n    }\n    return false;\n  };\n\n  render() {\n    const highlight = this.shouldHighlight();\n    const bold = this.shouldBold();\n    const isSameWord = this.isSameWords();\n    let word = null;\n    if (bold) {\n      word = this.props.word.substring(1, this.props.word.length - 1);\n    } else {\n      word = this.props.word;\n    }\n\n    return (\n      <div\n        className={classnames('word-wrapper', {\n          highlight,\n          bold,\n          sameword: isSameWord,\n        })}\n        onClick={this.handleClick}\n        onMouseEnter={this.handleMouseEnter}\n      >\n        {word}\n      </div>\n    );\n  }\n}\n\nexport default WordWrapper;\n","import { isNumber } from 'lodash';\n\nexport function hexToRgb(hex: string, alpha: any) {\n  // Expand shorthand form (e.g. \"03F\") to full form (e.g. \"0033FF\")\n  const shorthandRegex = /^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i;\n  hex = hex.replace(shorthandRegex, (m, r, g, b) => r + r + g + g + b + b);\n\n  const result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n  if (result) {\n    const colors = [\n      parseInt(result[1], 16),\n      parseInt(result[2], 16),\n      parseInt(result[3], 16),\n    ];\n    if (isNumber(alpha)) {\n      colors.push(alpha);\n    }\n    return `rgba(${colors.join(',')})`;\n  }\n\n  return null;\n}","import React, { Component } from 'react';\nimport { Popconfirm } from 'antd';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport PALLET from './constants';\nimport { isString, some, isUndefined } from 'lodash';\nimport WordWrapper from './WordWrapper';\nimport PronounRelevanceStore from './PronounRelevanceStore';\nimport { hexToRgb } from '../utils/common';\nimport { GroupWrapperProps, GroupWrapperState } from './interface';\n\nclass GroupWrapper extends Component<GroupWrapperProps, GroupWrapperState> {\n  static propTypes = {\n    index: PropTypes.number,\n    indexGroup: PropTypes.array,\n    readOnly: PropTypes.bool,\n    sentenceId: PropTypes.number,\n    wordGroup: PropTypes.array,\n    wrapperKey: PropTypes.string,\n  };\n\n  static contextTypes = {\n    _store: PropTypes.instanceOf(PronounRelevanceStore),\n    currentEntity: PropTypes.number,\n    isLeaving: PropTypes.bool, // indicate is leaving mode or not\n    isMerging: PropTypes.bool, // indicate is merging mode or not\n    isPicking: PropTypes.bool, // indicate is creating mention mode or not\n    isReviewing: PropTypes.bool, // indicate is review mode or not\n    leavingGroup: PropTypes.string, // leaving mode\n    mergingEntities: PropTypes.array, // merging mode\n    onDelete: PropTypes.func,\n    onEnterMention: PropTypes.func,\n    onSelect: PropTypes.func,\n    onUnselect: PropTypes.func,\n    relatedEntities: PropTypes.array, // review mode\n  };\n\n  static defaultProps = {\n    index: 0,\n    readOnly: false,\n  };\n\n  constructor(props: GroupWrapperProps) {\n    super(props);\n\n    this.state = {\n      popupDelete: false,\n    };\n  }\n\n  handleClick = (e: any) => {\n    e.stopPropagation();\n    const { onSelect, isMerging, isLeaving } = this.context;\n    const { wrapperKey, index, readOnly } = this.props;\n    if (readOnly) return;\n\n    const isTopLevel = wrapperKey === index;\n    if (isTopLevel) {\n      return;\n    }\n\n    if (isMerging || isLeaving) {\n      onSelect(this);\n    }\n  };\n\n  handleRightClick = (e: any) => {\n    const { wrapperKey, index, readOnly } = this.props;\n    const { isLeaving, isMerging, isPicking, onUnselect } = this.context;\n    if (isPicking) return;\n\n    e.preventDefault();\n    e.stopPropagation();\n    const isTopLevel = wrapperKey === index;\n    if (isTopLevel || readOnly) return;\n\n    if (isMerging || isLeaving) {\n      onUnselect(this);\n      return;\n    }\n\n    this.setState({\n      popupDelete: true,\n    });\n  };\n\n  handleDelete = () => {\n    const { onDelete } = this.context;\n    onDelete(this);\n    this.setState({\n      popupDelete: false,\n    });\n  };\n\n  handleCancelDelete = () => {\n    this.setState({\n      popupDelete: false,\n    });\n  };\n\n  handleVisibleChange = (value: any) => {\n    if (!value) {\n      this.setState({\n        popupDelete: false,\n      });\n    }\n  };\n\n  handleMouseEnter = () => {\n    const { wrapperKey, index } = this.props;\n    const isTopLevel = wrapperKey === index;\n    if (isTopLevel) return;\n    const { onEnterMention, isLeaving, isMerging, isPicking } = this.context;\n    if (isLeaving || isMerging || isPicking) return;\n    onEnterMention(this, true);\n  };\n\n  handleMouseLeave = () => {\n    const { wrapperKey, index } = this.props;\n    const isTopLevel = wrapperKey === index;\n    if (isTopLevel) return;\n    const { onEnterMention, isLeaving, isMerging, isPicking } = this.context;\n    if (isLeaving || isMerging || isPicking) return;\n    onEnterMention(this, false);\n  };\n\n  checkIsSelected = () => {\n    const { wrapperKey } = this.props;\n    const {\n      _store,\n      currentEntity,\n      isMerging,\n      mergingEntities,\n      isReviewing,\n      relatedEntities,\n    } = this.context;\n\n    return (\n      (isMerging &&\n        some(mergingEntities, entity =>\n          _store.isMentionSelected(entity, wrapperKey),\n        )) ||\n      (isReviewing &&\n        some(relatedEntities, entity =>\n          _store.isMentionSelected(entity, wrapperKey),\n        )) ||\n      (!isUndefined(currentEntity) &&\n        _store.isMentionSelected(currentEntity, wrapperKey))\n    );\n  };\n\n  checkIsLeaving = () => {\n    const { wrapperKey } = this.props;\n    const { leavingGroup } = this.context;\n    return leavingGroup === wrapperKey;\n  };\n\n  render() {\n    const {\n      wordGroup,\n      indexGroup,\n      sentenceId,\n      wrapperKey,\n      readOnly,\n    } = this.props;\n    const { popupDelete } = this.state;\n    const { _store } = this.context;\n    const isLeaving = this.checkIsLeaving();\n    const isSelected = this.checkIsSelected();\n    const entityIndex = _store.getEntityIndexByMention(wrapperKey);\n    const style: any = {};\n\n    if (\n      _store.entities[entityIndex] &&\n      _store.entities[entityIndex].length > 1\n    ) {\n      style.borderColor = PALLET[entityIndex % PALLET.length];\n    }\n\n    if (isSelected) {\n      style.backgroundColor = style.borderColor\n        ? hexToRgb(style.borderColor, 0.3)\n        : 'rgba(217, 217, 217, .4)';\n    }\n    style.borderStyle = style.borderColor ? 'solid': 'dotted';\n    return (\n      <Popconfirm\n        title=\"Mention\"\n        visible={popupDelete}\n        onVisibleChange={this.handleVisibleChange}\n        trigger=\"click\"\n        onCancel={this.handleCancelDelete}\n        onConfirm={this.handleDelete}\n      >\n        <div\n          style={style}\n          className={classnames('group-wrapper', {\n            deleting: popupDelete || isLeaving,\n          })}\n          onClick={this.handleClick}\n          onMouseLeave={this.handleMouseLeave}\n          onMouseEnter={this.handleMouseEnter}\n          onContextMenu={this.handleRightClick}\n        >\n          {wordGroup.map((item: any, index: number) => {\n            const key = `${wrapperKey}_${index}`;\n            if (isString(item)) {\n              return (\n                <WordWrapper\n                  key={key}\n                  wrapperKey={key}\n                  index={index}\n                  sentenceId={sentenceId}\n                  wordId={indexGroup[index]}\n                  word={item}\n                  readOnly={readOnly}\n                />\n              );\n            }\n            return (\n              <GroupWrapper\n                key={key}\n                wrapperKey={key}\n                sentenceId={sentenceId}\n                wordGroup={item}\n                indexGroup={indexGroup[index]}\n                index={index}\n                readOnly={readOnly}\n              />\n            );\n          })}\n          {((wordGroup.length === 1 && isString(wordGroup[0])) ||\n            wordGroup.length > 1) && (\n            <span className=\"subscript\">{entityIndex}</span>\n          )}\n        </div>\n      </Popconfirm>\n    );\n  }\n}\n\nexport default GroupWrapper;\n","import React, { Component } from 'react';\nimport { findDOMNode } from 'react-dom';\nimport PropTypes from 'prop-types';\nimport _ from 'lodash';\nimport classnames from 'classnames';\nimport { Col, Row, Button, Alert } from 'antd';\nimport update from 'immutability-helper';\nimport PronounRelevanceStore from './PronounRelevanceStore';\nimport GroupWrapper from './GroupWrapper';\nimport { PrBoardProps, PrBoardState } from './interface';\n\nconst KEY_CODE = {\n  CTRL: 17,\n};\n\nlet uuid = 0;\nclass PronounRelevanceBoard extends Component<PrBoardProps, PrBoardState> {\n  enteredEntities: any;\n  heightGroup: object;\n\n  constructor(props: PrBoardProps) {\n    super(props);\n    this.enteredEntities = [null];\n    this.state = {\n      isCheckingSameWord: false,\n      sameWords: [],\n      isMerging: false,\n      isLeaving: false,\n      currentEntity: null,\n      mergingEntities: [],\n      leavingGroup: null,\n      availableRange: [],\n      isPicking: false,\n      hoverWord: null,\n      startWord: null,\n    };\n    this.heightGroup = {};\n  }\n\n  static propTypes = {\n    isReviewing: PropTypes.bool,\n    relatedEntities: PropTypes.array,\n    isControllable: PropTypes.bool,\n    store: PropTypes.instanceOf(PronounRelevanceStore),\n    forceUpdate: PropTypes.func,\n  };\n\n  static defaultProps = {\n    forceUpdate: _.noop,\n  };\n\n  static childContextTypes = {\n    _store: PropTypes.instanceOf(PronounRelevanceStore),\n    isLeaving: PropTypes.bool,\n    isMerging: PropTypes.bool,\n    isPicking: PropTypes.bool,\n    isReviewing: PropTypes.bool,\n    sameWords: PropTypes.array,\n    currentEntity: PropTypes.number,\n    mergingEntities: PropTypes.array,\n    leavingGroup: PropTypes.string,\n    availableRange: PropTypes.any,\n    hoverWord: PropTypes.array,\n    onSelect: PropTypes.func,\n    onUnselect: PropTypes.func,\n    onPick: PropTypes.func,\n    onEnterWord: PropTypes.func,\n    onEnterMention: PropTypes.func,\n    onDelete: PropTypes.func,\n    relatedEntities: PropTypes.array,\n  };\n\n  _forceUpdate = () => {\n    const { forceUpdate } = this.props;\n    forceUpdate({ _trigger: ++uuid });\n  };\n\n  handleEnterCheckMode = (e: any) => {\n    const { isMerging, isLeaving, isPicking, hoverWord } = this.state;\n    const { store } = this.props;\n    if (isMerging || isLeaving || isPicking) return;\n    if (e.ctrlKey) {\n      const updates: any = {\n        isCheckingSameWord: true,\n      };\n\n      if (hoverWord) {\n        const mention = store.getMentionByWord(hoverWord);\n        if (mention) {\n          updates.sameWords = store.searchSameWords(mention);\n        }\n      }\n\n      this.setState(updates);\n    }\n  };\n\n  handleLeaveCheckMode = (e: any) => {\n    if (!this.state.isCheckingSameWord) return;\n    if (e.keyCode == KEY_CODE.CTRL) {\n      this.setState({\n        isCheckingSameWord: false,\n        sameWords: [],\n      });\n    }\n  };\n\n  componentWillUnmount() {\n    document.removeEventListener('keydown', this.handleEnterCheckMode);\n    document.removeEventListener('keyup', this.handleLeaveCheckMode);\n  }\n\n  componentDidMount() {\n    document.addEventListener('keydown', this.handleEnterCheckMode);\n    document.addEventListener('keyup', this.handleLeaveCheckMode);\n  }\n\n  clearHeight = () => {\n    for (const pair in this.heightGroup) {\n      const element: any = findDOMNode(this.heightGroup[pair]);\n      if (!element) {\n        delete this.heightGroup[pair];\n      } else {\n        element.style.height = null;\n      }\n    }\n  };\n\n  getChildContext() {\n    return {\n      _store: this.props.store,\n      isLeaving: this.state.isLeaving,\n      isMerging: this.state.isMerging,\n      isPicking: this.state.isPicking,\n      isReviewing: this.props.isReviewing,\n      sameWords: this.state.sameWords,\n      currentEntity: this.state.currentEntity,\n      mergingEntities: this.state.mergingEntities,\n      leavingGroup: this.state.leavingGroup,\n      availableRange: this.state.availableRange,\n      hoverWord: this.state.hoverWord,\n      onSelect: this.handleSelect,\n      onUnselect: this.handleUnselect,\n      onPick: this.handlePick,\n      onEnterWord: this.handleEnterWord,\n      onEnterMention: this.handleEnterMention,\n      onDelete: this.handleDelete,\n      relatedEntities: this.props.relatedEntities,\n    };\n  }\n\n  isMergeOperationAvailable = () => {\n    if (!this.props.store) return false;\n    const { isPicking, isLeaving } = this.state;\n    return !isPicking && !isLeaving && this.props.store.entities.length > 1;\n  };\n\n  isLeaveOperationAvailable = () => {\n    if (!this.props.store) return false;\n    const { isPicking, isMerging } = this.state;\n    return !isPicking && !isMerging && this.props.store.entities.length > 0;\n  };\n\n  handleMergeGroup = () => {\n    this.setState({\n      isMerging: true,\n      isLeaving: false,\n      mergingEntities: [],\n    });\n  };\n\n  handleCancelMerge = () => {\n    this.setState({\n      isMerging: false,\n      mergingEntities: [],\n    });\n  };\n\n  handleConfirmMerge = (stayMerging?: any) => {\n    const { mergingEntities } = this.state;\n    const { store } = this.props;\n    if (mergingEntities.length < 2) return;\n    store.mergeEntity(mergingEntities);\n    this.setState({\n      isMerging: !!stayMerging,\n      mergingEntities: [],\n      currentEntity: null,\n    });\n    this._forceUpdate();\n  };\n\n  handleLeaveGroup = () => {\n    this.setState({\n      isLeaving: true,\n      isMerging: false,\n    });\n  };\n\n  handleCancelLeave = () => {\n    this.setState({\n      isLeaving: false,\n      leavingGroup: null,\n      currentEntity: null,\n    });\n  };\n\n  handleConfirmLeave = () => {\n    const { currentEntity, leavingGroup } = this.state;\n    const { store } = this.props;\n    if (_.isNull(currentEntity) || _.isNull(leavingGroup)) return;\n    const mention = this.props.store.removeMentionFromEntity(leavingGroup);\n    const sentenceId = mention[0];\n    store.createMention({ sentenceId, mention, wrapperKey: `${sentenceId}` });\n    this.setState({\n      leavingGroup: null,\n      currentEntity: null,\n    });\n    this._forceUpdate();\n  };\n\n  handleDelete = (instance: any) => {\n    const { store } = this.props;\n    const { sentenceId, wrapperKey } = instance.props;\n    store.deleteMention({ sentenceId, wrapperKey });\n    this.setState({\n      currentEntity: null,\n    });\n    this._forceUpdate();\n  };\n\n  handlePick = (instance: any) => {\n    const { store } = this.props;\n    const {\n      isPicking,\n      isLeaving,\n      isMerging,\n      availableRange: [\n        availableSentenceId,\n        startWordId,\n        stopWordId,\n        pickWordId,\n      ],\n    } = this.state;\n    const { wordId, sentenceId, wrapperKey } = instance.props;\n    if (isLeaving || isMerging) return;\n    if (\n      isPicking &&\n      availableSentenceId == sentenceId &&\n      startWordId <= wordId &&\n      wordId < stopWordId\n    ) {\n      let { startWord } = this.state;\n      let stopWord = wrapperKey;\n\n      if (pickWordId > wordId) {\n        const tmp = startWord;\n        startWord = stopWord;\n        stopWord = tmp;\n      }\n\n      store.createMention({\n        sentenceId,\n        startWord,\n        stopWord,\n      });\n\n      this.setState({\n        isPicking: false,\n        availableRange: [],\n        startWord: null,\n        currentEntity: null,\n        sameWords: [],\n      });\n\n      this._forceUpdate();\n    } else {\n      const availableRange = store.getAvailableRange(wrapperKey);\n      const sameWords = store.searchSameWords([sentenceId, wordId, wordId + 1]);\n      this.setState({\n        isPicking: true,\n        startWord: wrapperKey,\n        availableRange,\n        currentEntity: null,\n        sameWords,\n      });\n    }\n  };\n\n  handleEnterWord = (instance: any) => {\n    const { sentenceId, wordId } = instance.props;\n    const { store } = this.props;\n    const hoverWord = [sentenceId, wordId];\n    this.setState({\n      hoverWord,\n    });\n\n    const { isPicking, startWord, isCheckingSameWord } = this.state;\n    if (isPicking && startWord) {\n      const availableSentenceId = parseInt(startWord);\n      const startWordId = store.getWordIndex(startWord);\n      if (availableSentenceId !== sentenceId) return;\n\n      let sameWords;\n      if (startWordId <= wordId) {\n        sameWords = store.searchSameWords([\n          sentenceId,\n          startWordId,\n          wordId + 1,\n        ]);\n      } else {\n        sameWords = store.searchSameWords([\n          sentenceId,\n          wordId,\n          startWordId + 1,\n        ]);\n      }\n\n      this.setState({\n        sameWords,\n      });\n    } else if (isCheckingSameWord) {\n      const mention = store.getMentionByWord(hoverWord);\n      if (mention) {\n        this.setState({\n          sameWords: store.searchSameWords(mention),\n        });\n      }\n    }\n  };\n\n  handleEnterMention = (instance: any, isEntering: boolean) => {\n    const { store } = this.props;\n    const wrapperKey = instance && instance.props.wrapperKey;\n    const entityIndex = store.getEntityIndexByMention(wrapperKey);\n\n    if (isEntering) {\n      this.enteredEntities.push(entityIndex);\n      this.setState({\n        currentEntity: entityIndex,\n      });\n    } else {\n      this.enteredEntities.pop();\n      const currentEntity = _.last(this.enteredEntities);\n      this.setState({\n        currentEntity,\n      });\n    }\n  };\n\n  handleSelect = (instance: any) => {\n    const { store } = this.props;\n    const { mergingEntities, leavingGroup, isMerging, isLeaving } = this.state;\n    const wrapperKey = instance && instance.props.wrapperKey;\n    const entityIndex = store.getEntityIndexByMention(wrapperKey);\n    if (isMerging) {\n      if (mergingEntities.indexOf(entityIndex) !== -1) return;\n      this.setState({\n        mergingEntities: update(mergingEntities, { $push: [entityIndex] }),\n      });\n    } else if (isLeaving) {\n      if (leavingGroup === wrapperKey) return;\n      this.setState({\n        leavingGroup: wrapperKey,\n        currentEntity: entityIndex,\n      });\n    }\n  };\n\n  handleUnselect = (instance: any) => {\n    const { store } = this.props;\n    const { mergingEntities, isMerging } = this.state;\n    const wrapperKey = instance && instance.props.wrapperKey;\n    const entityIndex = store.getEntityIndexByMention(wrapperKey);\n    if (isMerging) {\n      const index = mergingEntities.indexOf(entityIndex);\n      if (index === -1) return;\n      this.setState({\n        mergingEntities: update(mergingEntities, { $splice: [[index, 1]] }),\n      });\n    }\n  };\n\n  handleRightClick = (e: any) => {\n    const { isPicking } = this.state;\n    if (isPicking) {\n      e.preventDefault();\n      this.setState({\n        isPicking: false,\n        availableRange: [],\n        startWord: null,\n        sameWords: [],\n      });\n    }\n  };\n\n  setRefs = (component: any, index: number, group: object) => {\n    group[index] = component;\n    return index;\n  };\n\n  render() {\n    const { isControllable, store } = this.props;\n    const setRefs = this.setRefs;\n    const {\n      isLeaving,\n      isMerging,\n      leavingGroup,\n      mergingEntities,\n      currentEntity,\n    } = this.state;\n    return (\n      <Row className=\"pronoun-relevance-board\">\n        {isControllable && (\n          <Col span={4}>\n            <div className=\"pronoun-relevance-control-bar\">\n              <Button\n                className={classnames({ hidden: isMerging })}\n                disabled={!this.isMergeOperationAvailable()}\n                onClick={this.handleMergeGroup}\n              >\n                Entity+Entity\n              </Button>\n              <Button\n                className={classnames({ hidden: !isMerging })}\n                onClick={this.handleCancelMerge}\n              >\n                \n              </Button>\n              <Button\n                className={classnames({ hidden: !isMerging })}\n                disabled={mergingEntities.length < 2}\n                onClick={() => this.handleConfirmMerge()}\n              >\n                \n              </Button>\n              <Button\n                className={classnames({ hidden: !isMerging })}\n                disabled={mergingEntities.length < 2}\n                onClick={() => this.handleConfirmMerge(true)}\n              >\n                \n              </Button>\n            </div>\n            <div className=\"pronoun-relevance-control-bar\">\n              <Button\n                className={classnames({ hidden: isLeaving })}\n                disabled={!this.isLeaveOperationAvailable()}\n                onClick={this.handleLeaveGroup}\n              >\n                Mention\n              </Button>\n              <Button\n                className={classnames({ hidden: !isLeaving })}\n                onClick={this.handleCancelLeave}\n              >\n                \n              </Button>\n              <Button\n                className={classnames({ hidden: !isLeaving })}\n                disabled={\n                  _.isNull(leavingGroup) ||\n                  this.props.store.entities[currentEntity].length < 2\n                }\n                onClick={this.handleConfirmLeave}\n              >\n                \n              </Button>\n            </div>\n            <Alert\n              message={null}\n              className={classnames({ hidden: !isMerging })}\n              description=\"Entity\"\n              type=\"info\"\n              showIcon\n            />\n            <Alert\n              message={null}\n              className={classnames({ hidden: !isLeaving })}\n              description=\"MentionEntity\"\n              type=\"info\"\n              showIcon\n            />\n          </Col>\n        )}\n        <Col style={{ height: '100%' }} span={isControllable ? 20 : 24}>\n          <div\n            className=\"pronoun-relevance-sentences\"\n            onContextMenu={!isControllable ? _.noop : this.handleRightClick}\n          >\n            {store &&\n              store.wordGroups.map((item: any, index: number) => (\n                <GroupWrapper\n                  readOnly={!isControllable}\n                  key={index}\n                  index={index}\n                  wrapperKey={`${index}`}\n                  wordGroup={item}\n                  indexGroup={store.indexGroups[index]}\n                  sentenceId={index}\n                  ref={GroupWrapper => {\n                    setRefs(GroupWrapper, index, this.heightGroup);\n                  }}\n                />\n              ))}\n          </div>\n        </Col>\n      </Row>\n    );\n  }\n}\n\nexport default PronounRelevanceBoard;\n","import React, { Component } from 'react';\nimport { findDOMNode } from 'react-dom';\nimport PropTypes from 'prop-types';\nimport { Row, Col } from 'antd';\nimport _ from 'lodash';\nimport { hexToRgb } from '../utils/common';\nimport classnames from 'classnames';\nimport PALLET from './constants';\nimport PronounRelevanceStore from './PronounRelevanceStore';\nimport PronounRelevanceBoard from './PronounRelevanceBoard';\nimport { PrBoardCompareProps, PrBoardCompareState } from './interface';\n\nclass PronounRelevanceCompareBoard extends Component<PrBoardCompareProps, PrBoardCompareState> {\n  falsy: any;\n  store: any;\n  left: any;\n  right: any;\n  \n  constructor(props: PrBoardCompareProps) {\n    super(props);\n\n    this.falsy = {};\n    this.store = {};\n\n    this.state = {\n      falsy: null,\n      entityIndex: null,\n      gtHighlightEntities: [],\n      uaHighlightEntities: [],\n    };\n  }\n\n  static propTypes = {\n    userAnswer: PropTypes.instanceOf(PronounRelevanceStore),\n    gtAnswer: PropTypes.instanceOf(PronounRelevanceStore),\n  };\n\n  componentWillReceiveProps(nextProps: PrBoardCompareProps) {\n    const { userAnswer, gtAnswer } = nextProps;\n    if (\n      userAnswer !== this.props.userAnswer ||\n      gtAnswer !== this.props.gtAnswer\n    ) {\n      this.init(nextProps);\n      this.forceUpdate();\n    }\n  }\n\n  componentDidMount() {\n    this.init(this.props);\n    this.forceUpdate();\n  }\n\n  componentWillUpdate(nextProps: PrBoardCompareProps, nextState: PrBoardCompareState) {\n    if (!this.left || !this.right) return;\n    this.left.clearHeight();\n    this.right.clearHeight();\n  }\n\n  componentDidUpdate(prevProps: PrBoardCompareProps, prevState: PrBoardCompareState) {\n    if (!this.left || !this.right) return;\n    const heightGroupRight = this.right.heightGroup;\n    const heightGroupLeft = this.left.heightGroup;\n    this.setHeight(heightGroupLeft, heightGroupRight);\n  }\n\n  setHeight = (heightGroupLeft: object, heightGroupRight: object) => {\n    for (const pair in heightGroupLeft) {\n      if (!heightGroupRight[pair]) continue;\n\n      const left: any = findDOMNode(heightGroupLeft[pair]);\n      const right: any = findDOMNode(heightGroupRight[pair]);\n\n      const max = Math.max(left.clientHeight, right.clientHeight);\n      left.style.height = `${max}px`;\n      right.style.height = `${max}px`;\n    }\n  };\n\n  init = (props: PrBoardCompareProps) => {\n    const { userAnswer, gtAnswer } = props;\n    if (!userAnswer || !gtAnswer) return;\n    const [match_gt, match_ua] = gtAnswer.generateMatch(userAnswer.entities);\n\n    this.falsy = {\n      negative: gtAnswer.generateFalsy(userAnswer.entities),\n      positive: userAnswer.generateFalsy(gtAnswer.entities),\n      match: match_gt,\n      match_ua,\n    };\n\n    this.store = {\n      negative: gtAnswer,\n      positive: userAnswer,\n      match: gtAnswer,\n    };\n  };\n\n  onSelectEntity = (falsy: string | null, entityIndex: number) => {\n    let uaHighlightEntities = [];\n    let gtHighlightEntities = [];\n    const { positive, negative } = this.store;\n    switch (falsy) {\n      case 'negative': {\n        gtHighlightEntities.push(entityIndex);\n        uaHighlightEntities = positive.getIntersectionEntities(\n          negative.entities[entityIndex],\n        );\n        break;\n      }\n      case 'positive': {\n        uaHighlightEntities.push(entityIndex);\n        gtHighlightEntities = negative.getIntersectionEntities(\n          positive.entities[entityIndex],\n        );\n        break;\n      }\n      case 'match': {\n        const { match, match_ua } = this.falsy;\n        gtHighlightEntities.push(entityIndex);\n        const index = match.indexOf(entityIndex);\n        uaHighlightEntities.push(match_ua[index]);\n        break;\n      }\n    }\n\n    this.setState({\n      entityIndex,\n      falsy,\n      uaHighlightEntities,\n      gtHighlightEntities,\n    });\n  };\n\n  renderWords = (falsy: string, entityIndex: number) => {\n    const store = this.store[falsy];\n    const [sentenceId, start, end] = _.first(store.entities[entityIndex]);\n    const words = store.sentences[sentenceId].slice(start, end);\n    const style: any = {};\n\n    if (store.entities[entityIndex] && store.entities[entityIndex].length > 1) {\n      style.borderColor = PALLET[entityIndex % PALLET.length];\n    }\n\n    if (this.state.falsy === falsy && this.state.entityIndex === entityIndex) {\n      style.backgroundColor = style.borderColor\n        ? hexToRgb(style.borderColor, 0.3)\n        : 'rgba(217, 217, 217, .4)';\n    }\n\n    return (\n      <div\n        className={classnames('group-wrapper')}\n        style={style}\n        onClick={() => this.onSelectEntity(falsy, entityIndex)}\n      >\n        {words.join(' ')}\n        <span className=\"subscript\">{entityIndex}</span>\n      </div>\n    );\n  };\n\n  renderFalsy = (falsyName: string) => {\n    const falsy = this.falsy[falsyName];\n    return (\n      falsy &&\n      falsy.map((entityId: number, index: number) => (\n        <li key={index}>{this.renderWords(falsyName, entityId)}</li>\n      ))\n    );\n  };\n\n  render() {\n    const { userAnswer, gtAnswer, showRealGroundTruth } = this.props;\n    const {\n      uaHighlightEntities,\n      gtHighlightEntities,\n    } = this.state;\n    const compareText = showRealGroundTruth ? 'GT ANSWER:' : 'REVIEW ANSWER:';\n    return (\n      <Row className=\"pronoun-relevance compare-board\">\n        <Col span={6} className=\"compare-board-column\">\n          <section className=\"falsy-section\">\n            <h3>False Negative </h3>\n            <ul>{this.renderFalsy('negative')}</ul>\n          </section>\n          <section className=\"falsy-section\">\n            <h3>False Positive </h3>\n            <ul>{this.renderFalsy('positive')}</ul>\n          </section>\n          <section className=\"falsy-section\">\n            <h3>Match </h3>\n            <ul>{this.renderFalsy('match')}</ul>\n          </section>\n        </Col>\n        <Col span={18} className=\"compare-board-column\">\n          <Row className=\"compare-area\">\n            <Col span={12}>\n              <h3>{compareText}</h3>\n              <PronounRelevanceBoard\n                ref={(left: any) => this.left = left}\n                store={gtAnswer}\n                isControllable={false}\n                isReviewing\n                relatedEntities={gtHighlightEntities}\n              />\n            </Col>\n            <Col span={12}>\n              <h3>USER ANSWER:</h3>\n              <PronounRelevanceBoard\n                ref={(right: any) => this.right = right}\n                store={userAnswer}\n                isControllable={false}\n                isReviewing\n                relatedEntities={uaHighlightEntities}\n              />\n            </Col>\n          </Row>\n        </Col>\n      </Row>\n    );\n  }\n}\n\nexport default PronounRelevanceCompareBoard;\n","import _ from 'lodash';\nimport * as React from 'react';\nimport { Col, Row } from 'antd';\nimport './App.css';\nimport { PrProps } from './PronounRelevance/interface';\nimport PronounRelevanceBoard from './PronounRelevance/PronounRelevanceBoard';\nimport PronounRelevanceCompareBoard from './PronounRelevance/PronounRelevanceCompareBoard';\nimport PronounRelevanceStore from './PronounRelevance/PronounRelevanceStore';\n\nexport const isResultValid = (result: object) => {\n  return Array.isArray(result);\n}\n\nclass App extends React.Component<PrProps> {\n  public _store: any;\n  public _annoStore: any;\n  public _gtStore: any;\n\n  static defaultProps = {\n    globalControl: {\n      \"isEditable\": false,\n      \"showGroundTruth\": false,\n      \"showHeader\": false,\n      \"showRealGroundTruth\": false,\n      \"updateTarget\": \"anno\"\n    }\n  }\n\n  constructor(props: PrProps) {\n    super(props);\n\n    this._store = null;\n    this.init(props);\n  }\n\n  componentWillReceiveProps(nextProps: PrProps) {\n    this.init(nextProps);\n  }\n\n  _forceUpdate = (payload?: any) => {\n    if(this.props.onChange) this.props.onChange(this._annoStore.entities) ;\n  };\n\n  init = (props: PrProps) => {\n    const { globalControl, taskFile, annoResult } = props;\n\n    this._annoStore = new PronounRelevanceStore(taskFile.sentence, annoResult);\n    this._store = this._annoStore;\n\n    if (globalControl.showGroundTruth) {\n      const { gtResult } = props.taskFile;\n      this._gtStore = new PronounRelevanceStore(taskFile.sentence, gtResult);\n    }\n  };\n\n  render() {\n    const { globalControl } = this.props;\n    const isAnnoMode = globalControl.isEditable;\n    if (globalControl.showGroundTruth) {\n      return (\n        <PronounRelevanceCompareBoard\n          userAnswer={this._annoStore}\n          gtAnswer={this._gtStore}\n          showRealGroundTruth={globalControl.showRealGroundTruth}\n        />\n      );\n    }\n    return (\n      <Row className=\"pronoun-relevance\">\n        <Col style={{ height: '100%' }} span={isAnnoMode ? 24 : 0}>\n          <PronounRelevanceBoard\n            store={this._store}\n            isControllable\n            forceUpdate={this._forceUpdate}\n          />\n        </Col>\n        <Col style={{ height: '100%' }} span={isAnnoMode ? 0 : 24}>\n          {!isAnnoMode && (\n            <div style={{ height: '100%' }}>\n              {globalControl.showHeader && ': '}\n              {\n                <PronounRelevanceBoard\n                  store={this._annoStore}\n                  isControllable={false}\n                />\n              }\n            </div>\n          )}\n        </Col>\n      </Row>\n    );\n  }\n}\n\nexport default App;\n","import axios from 'axios';\nimport constants from '../constants';\n\nconst { API_URL } = constants;\n\nclass FileService {\n    getFileContent = (fileName: string, passageId: string) => {\n        return axios.get(`${API_URL}api/file?name=${fileName}&id=${passageId}`)\n        .then(res => {\n            return res.data;\n        })\n    }\n\n    getPassageCount = (fileName: string) => {\n        return axios.get(`${API_URL}api/file/passageCount?name=${fileName}`)\n        .then(res => {\n            return res.data;\n        })\n    }\n};\n\nexport default new FileService();\n","import { Button } from 'antd';\nimport { Pagination } from 'antd';\nimport { message } from 'antd';\nimport * as React from \"react\";\nimport _ from 'lodash';\nimport './PreviewOnline.css';\nimport PronounRelevance from './PronounRelevance/App';\nimport fileService from '../services/fileService';\nimport update from 'immutability-helper';\nimport constants from '../constants';\n\nconst { FILE_NAMES } = constants;\nexport interface Props{\n}\n\ninterface State {\n    currentFileNum: number,\n    currentTextNum: number,\n    currentTextContent: string,\n    total: number,\n}\n\nclass Intro extends React.Component<Props, State> {\n\n    constructor(props: Props) {\n        super(props);\n        this.state = {\n            currentFileNum: 0,\n            currentTextNum: 1,\n            currentTextContent: \"\",\n            total: 0,\n        };\n    }\n\n    componentDidMount() {\n        this.switchFile(0);\n    }\n\n    fetchPassage = (fileName: string, passageId: string) => {\n        const { currentTextContent } = this.state;\n        fileService.getFileContent(fileName, passageId).then(res => {\n            if (res.rtn === 0) {\n                this.setState({\n                    currentTextContent: update(currentTextContent, { $set: res.result}),\n                });\n            }\n            else {\n                message.error(\"Failed to fetch passage\");\n            }\n        })\n    }\n\n    switchFile = (fileNum: number) => {\n        fileService.getPassageCount(FILE_NAMES[fileNum]).then(res => {\n            if(res.rtn === 0) {\n                this.setState({\n                   total: res.total\n                })\n            }\n            else {\n                message.error(\"Failed to fetch passage\");\n            }\n        })\n        this.fetchPassage(FILE_NAMES[fileNum], \"1\");\n        this.setState({\n            currentFileNum: fileNum,\n            currentTextNum: 1\n        });\n    }\n\n    onPageChange = (pageNum: number) => {\n        const { currentFileNum } = this.state;\n        this.fetchPassage(FILE_NAMES[currentFileNum.toString()], pageNum.toString());\n        this.setState({\n            currentTextNum: pageNum\n        })\n    }\n\n    public render() {\n      const { currentTextContent, currentTextNum, currentFileNum, total } = this.state;\n      const content = JSON.parse(currentTextContent || \"{}\");\n      return (\n        <div className=\"preview-online\">\n          <div className=\"left-tab\">\n            <Button key=\"0\" onClick={(e: any) => this.switchFile(0)} className=\"set-button\" type={currentFileNum === 0 ? \"primary\" : \"default\"}>Training Set (37000)</Button>\n            <br />\n            <Button key=\"1\" onClick={(e: any) => this.switchFile(1)} className=\"set-button\" type={currentFileNum === 1 ? \"primary\" : \"default\"}>Dev Set (500)</Button>\n            <br />\n            <Button key=\"2\" onClick={(e: any) => this.switchFile(2)} className=\"set-button\" type={currentFileNum === 2 ? \"primary\" : \"default\"}>Test Set (500)</Button>\n          </div>\n          <div className=\"pagination\" >\n            <Pagination showQuickJumper current={currentTextNum} total={total} pageSize={1} onChange={this.onPageChange} />\n          </div>\n          <div className=\"pronoun-relevance-content\">\n            {\n                !_.isEmpty(content) ? <PronounRelevance taskFile={{sentence: content.sentences || []}} annoResult={content.mention_clusters || []} />\n                : <div className=\"empty-passage\" >Empty Passage</div>\n            }\n          </div>\n        </div>\n      );\n    }\n  }\n\nexport default Intro;\n","import * as React from 'react';\nimport { Tabs } from 'antd';\nimport './App.css';\nimport Intro from './components/Intro';\nimport PreviewOnline from './components/PreviewOnline';\nconst { TabPane } = Tabs;\n\nexport interface Props {\n\n}\ninterface State {\n  currentTab: string;\n}\nclass App extends React.Component<Props, State> {\n\n  constructor(props: Props) {\n    super(props);\n    this.state = { currentTab: \"1\"};\n  }\n\n  changeTab = (key: string) => {\n    this.setState({\n      currentTab: key,\n    });\n  }\n\n  public render() {\n    return (\n      <div className=\"App\">\n        <header className=\"App-header\">\n          <h1 className=\"App-title\"><a href=\"/\">PreCo</a></h1>\n        </header>\n        <div className=\"tabs\">\n            <Tabs activeKey={this.state.currentTab} onChange={this.changeTab}>\n              <TabPane tab=\"Home\" key=\"1\">\n                <Intro onChangeTab={this.changeTab}/>\n              </TabPane>\n              <TabPane tab=\"Preview Online\" key=\"2\">\n                <PreviewOnline />\n              </TabPane>\n            </Tabs>\n          </div>\n        <footer className=\"App-footer\">\n          <p>Copyright2018 by PreCo Dataset. All rights reserved.</p>\n        </footer>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","// tslint:disable:no-console\n// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the 'N+1' visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport default function register() {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL!,\n      window.location.toString()\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Lets check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://goo.gl/SC7cgQ'\n          );\n        });\n      } else {\n        // Is not local host. Just register service worker\n        registerValidSW(swUrl);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker) {\n          installingWorker.onstatechange = () => {\n            if (installingWorker.state === 'installed') {\n              if (navigator.serviceWorker.controller) {\n                // At this point, the old content will have been purged and\n                // the fresh content will have been added to the cache.\n                // It's the perfect time to display a 'New content is\n                // available; please refresh.' message in your web app.\n                console.log('New content is available; please refresh.');\n              } else {\n                // At this point, everything has been precached.\n                // It's the perfect time to display a\n                // 'Content is cached for offline use.' message.\n                console.log('Content is cached for offline use.');\n              }\n            }\n          };\n        }\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type')!.indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import * as React from 'react';\nimport * as ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css';\nimport registerServiceWorker from './registerServiceWorker';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root') as HTMLElement,\n);\nregisterServiceWorker();\n"],"sourceRoot":""}